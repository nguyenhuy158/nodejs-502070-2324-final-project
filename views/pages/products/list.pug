extends ../layout.pug

block content
	.content
		include ../../partials/nav
		.container
			.row
				.col.my-3
					a.btn.btn-primary(href="/products/add") Add product
					a#reload-product-table.btn.btn-primary.ms-3 Reload

		// Table plugin
		.container
			h2 Product List
			table#product-table.table.table-striped.table-bordered.table-rounded.rounded(style="width:100%")
				thead
					tr
						th STT
						th Barcode
						th Product Name
						th Import Price
						th Retail Price
						th Category
						th Thumbnail
						th

				tbody


		// Confirm modal
		include ../../partials/confirm-delete-modal

		// Confirm modal
		include ../../partials/product-edit-modal

		#flash-alert.alert.alert-danger(style="display: none")
			span Flash alert message

	// Script for confirming delete
	script(src="js/products/confirm-delete.js")
	script(src="js/products/product-edit-modal.js")
	// End script for confirming delete


	script(src="/js/product-datatable.js") 
	script.
		$(() => {
			function updatePerPage(select) {
				const selectedValue = select.value;
				window.location.href = `/products?page=#{current}&perPage=${selectedValue}`;
			}
		});


